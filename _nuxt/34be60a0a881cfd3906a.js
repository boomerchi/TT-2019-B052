(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{415:function(e,r,t){"use strict";t.r(r);t(23);var o=t(174),n=t(346),c={mixins:[o.validationMixin],validations:{name:{required:n.required,maxLength:Object(n.maxLength)(40)},password:{required:n.required},passwordConfirmation:{required:n.required,sameAsPassword:Object(n.sameAs)("password")},email:{required:n.required,email:n.email},checkbox:{checked:function(e){return e}}},data:function(){var e=this;return{name:"",email:"",error:"",isFormValid:!1,checkbox:!1,show:!1,password:"",passwordConfirmation:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=6||"Password must be at least 6 characters"},function(r){return r===e.password||"Passwords must match"}]}},computed:{checkboxErrors:function(){var e=[];return this.$v.checkbox.$dirty?(!this.$v.checkbox.checked&&e.push("You must agree to continue!"),e):e},nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.maxLength&&e.push("Name must be at most 40 characters long"),!this.$v.name.required&&e.push("Name is required."),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required"),e):e}},methods:{register:function(){var e=this;this.error="",this.$nuxt.$loading.start(),this.$store.dispatch("calls/register",{name:this.name,email:this.email,password:this.password}).then((function(){e.$router.push({name:"login"})})).catch((function(r){e.$nuxt.$loading.fail(),e.$nuxt.$loading.finish(),e.error=r.response.data.error}))},clear:function(){this.$v.$reset(),this.password="",this.passwordConfirmation="",this.error="",this.name="",this.email="",this.checkbox=!1}}},l=t(28),d=t(35),m=t.n(d),h=t(405),v=t(123),f=t(308),w=t(306),x=t(418),$=t(335),k=t(404),component=Object(l.a)(c,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-card",{staticClass:"mx-auto mt-5",attrs:{width:"400"}},[t("v-card-title",[t("h1",{staticClass:"display-1"},[e._v("Signup")])]),e._v(" "),t("v-card-text",[t("v-form",{on:{submit:function(r){return r.preventDefault(),e.register(r)}},model:{value:e.isFormValid,callback:function(r){e.isFormValid=r},expression:"isFormValid"}},[t("v-text-field",{attrs:{"error-messages":e.nameErrors,counter:40,label:"Name","prepend-icon":"mdi-format-text",required:""},on:{input:function(r){return e.$v.name.$touch()},blur:function(r){return e.$v.name.$touch()}},model:{value:e.name,callback:function(r){e.name=r},expression:"name"}}),e._v(" "),t("v-text-field",{attrs:{rules:e.passwordRules,"append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",label:"Password","prepend-icon":"mdi-form-textbox-password",required:""},on:{"click:append":function(r){e.show=!e.show}},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}}),e._v(" "),t("v-text-field",{attrs:{rules:e.passwordRules,"append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",label:"Confirm password",required:"","prepend-icon":"mdi-form-textbox-password"},on:{"click:append":function(r){e.show=!e.show}},model:{value:e.passwordConfirmation,callback:function(r){e.passwordConfirmation=r},expression:"passwordConfirmation"}}),e._v(" "),t("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-mail",type:"email",required:"","prepend-icon":"mdi-email"},on:{input:function(r){return e.$v.email.$touch()},blur:function(r){return e.$v.email.$touch()}},model:{value:e.email,callback:function(r){e.email=r},expression:"email"}}),e._v(" "),t("v-checkbox",{attrs:{"error-messages":e.checkboxErrors,label:"Do you agree?",required:""},on:{change:function(r){return e.$v.checkbox.$touch()},blur:function(r){return e.$v.checkbox.$touch()}},model:{value:e.checkbox,callback:function(r){e.checkbox=r},expression:"checkbox"}}),e._v(" "),t("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{type:"error"}},[e._v("\n        "+e._s(e.error)+"\n      ")]),e._v(" "),t("v-btn",{attrs:{color:"primary",disabled:!e.isFormValid,type:"submit",rounded:""}},[e._v("submit")]),e._v(" "),t("v-btn",{attrs:{color:"primary",rounded:""},on:{click:e.clear}},[e._v("clear")])],1)],1)],1)}),[],!1,null,null,null),_=component.exports;m()(component,{VAlert:h.a,VBtn:v.a,VCard:f.a,VCardText:w.b,VCardTitle:w.c,VCheckbox:x.a,VForm:$.a,VTextField:k.a});var y={middleware:"login",components:{RegisterUser:_}},V=t(297),C=Object(l.a)(y,(function(){var e=this.$createElement,r=this._self._c||e;return r("v-app",[r("RegisterUser",{directives:[{name:"show",rawName:"v-show",value:!this.loggedIn,expression:"!loggedIn"}]})],1)}),[],!1,null,null,null);r.default=C.exports;m()(C,{VApp:V.a})}}]);